
/* Smart HTML Elements v1.0.0 (2018-April) 
Copyright (c) 2011-2018 jQWidgets. 
License: http://htmlelements.com/pricing/ */

 "use strict";Smart.Utilities.Assign("NumericProcessor",function e(t,a){switch(babelHelpers.classCallCheck(this,e),t[a]){case"integer":return new Smart.Utilities.IntegerNumericProcessor(t,a);case"floatingPoint":return new Smart.Utilities.DecimalNumericProcessor(t,a);case"complex":return new Smart.Utilities.ComplexNumericProcessor(t,a)}}),Smart.Utilities.Assign("BaseNumericProcessor",function(){function e(t,a){babelHelpers.classCallCheck(this,e);var i=this;i.context=t,i._longestLabelSize=0,i.numericFormatProperty=a,i.regexScientificNotation=new RegExp(/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|c|m|u|n|p|f|a|z|y){1}$/),i.regexNoLeadingZero=new RegExp(/^(-)?[.]\d+$/),i.prefixesToPowers={Y:24,Z:21,E:18,P:15,T:12,G:9,M:6,k:3,c:-2,m:-3,u:-6,n:-9,p:-12,f:-15,a:-18,z:-21,y:-24}}return babelHelpers.createClass(e,[{key:"prepareForValidation",value:function(e,t,a){var i=this.context,r=e||void 0!==t;a=a.toString(),a=a.replace(/\s/g,""),a=i._discardDecimalSeparator(a),this.regexNoLeadingZero.test(a)?a="-"===a.charAt(0)?"-0"+a.slice(1):"0"+a:("integer"===i[this.numericFormatProperty]&&(10===i._radixNumber||r)||"floatingPoint"===i[this.numericFormatProperty])&&this.regexScientificNotation.test(a)&&(a=this.scientificToDecimal(a));var n=!1,l=void 0;if("complex"===i[this.numericFormatProperty]&&!1===i._regexSpecial.nonNumericValue.test(a))try{if(i._regexSpecial.exaValue.test(a)){var o=a.indexOf("E"),s=parseFloat(a.slice(0,o))*Math.pow(10,18),c=parseFloat(a.slice(o+1,-1));l=new Smart.Utilities.Complex(s,c)}else l=new Smart.Utilities.Complex(a);n=!0}catch(e){n=!1}return!1===n&&(!r&&!1===i._regex[i._radixNumber].test(a)||r&&!1===i._regex[10].test(a))?void i._handleNonNumericValue(e,t,a):{value:a,enteredComplexNumber:l}}},{key:"isENotation",value:function(e){return new RegExp(/e/i).test(e.toString())}},{key:"scientificToDecimal",value:function(e){var t=this.regexScientificNotation.exec(e),a=t[1],i=t[2];return parseFloat(a)*Math.pow(10,this.prefixesToPowers[i])}},{key:"_createMeasureLabel",value:function(){var e=this.context,t=document.createElement("div");return t.className="smart-label",t.style.position="absolute",t.style.visibility="hidden","far"!==e.scalePosition?e._measureLabelScale=e.$.scaleNear:e._measureLabelScale=e.$.scaleFar,e._measureLabelScale.appendChild(t),t}},{key:"_addMajorTickAndLabel",value:function(e,t,a,i,r){var n=this.context,l=n._settings.leftOrTop,o=this.valueToPx(i),s="",c="";if(parseInt(o)>parseInt(n._measurements.trackLength))return{tick:s,label:c};if(n.logarithmicScale&&(e=n._formatLabel(Math.pow(10,i))),"smart-tank"===n.nodeName.toLowerCase()||n._intervalHasChanged){var u=n._tickIntervalHandler.labelsSize;if(r){n._labelDummy.innerHTML=e;var m=this.valueToPx(i),d=this.valueToPx(parseFloat(n._drawMax)),g=this.valueToPx(parseFloat(n._drawMin)),v=n._labelDummy[n._settings.size],p="vertical"===n.orientation?n._labelDummy.offsetWidth:n._labelDummy.offsetHeight,b=(v+u.minLabelSize)/2,h=(v+u.maxLabelSize)/2;a=n._normalLayout?m+h<d&&m-b>g:m-h>d&&m+b<g,p>this._longestLabelSize&&(this._longestLabelSize=p)}else this._longestLabelSize=Math.max(u.minLabelOtherSize,u.maxLabelOtherSize,this._longestLabelSize)}if(n._tickValues.push(i),s='<div style="'+l+": "+o+'px;" class="smart-tick"></div>',!1!==a){void 0===t&&(n._labelDummy.innerHTML=e,t=n._labelDummy[n._settings.size]);var _=o-t/2;c+='<div class="smart-label'+(r?" smart-label-middle":"")+'" style="'+l+": "+_+'px;">'+e+"</div>"}return{tick:s,label:c}}},{key:"getWordLength",value:function(e){switch(this.context._unsigned="u"===e.charAt(0),e){case"int8":case"uint8":return 8;case"int16":case"uint16":return 16;case"int32":case"uint32":return 32;case"int64":case"uint64":return 64}}},{key:"getAngleByValue",value:function(e,t,a){var i=this.context;!1!==t&&i.logarithmicScale&&(e=Math.log10(e));var r=(e-i._drawMin)*i._angleRangeCoefficient,n=void 0;return n=i.inverted?i.startAngle+r:i.endAngle-r,a?n:n*Math.PI/180+Math.PI/2}},{key:"getValueByAngle",value:function(e,t){var a=this.context,i=void 0,r=void 0,n=void 0;for(a.inverted?(i=e,r=a._normalizedStartAngle):(i=a.endAngle,r=e);i<r;)i+=360;return n=(i-r)/a._angleDifference*a._range+parseFloat(a._drawMin),a.logarithmicScale&&(n=Math.pow(10,n)),t&&!a.coerce?Math.round(n):this.getCoercedValue(n,!1)}},{key:"updateGaugeValue",value:function(e){var t=this.context,a=t.value;t.value=e,t._drawValue=t.logarithmicScale?Math.log10(e).toString():e,t._number=this.createDescriptor(t.value),t.$.digitalDisplay.value=e,t.$.fireEvent("change",{value:e,oldValue:a}),delete t._valueBeforeCoercion}},{key:"validateColorRange",value:function(e){var t=this.context;return Math.min(Math.max(e,t.min),t.max)}},{key:"getActualValue",value:function(e){return this.context.logarithmicScale?Math.pow(10,e):e}},{key:"drawGaugeLogarithmicScaleMinorTicks",value:function(e,t,a){var i=this.context,r=void 0;t instanceof BigNumberNG&&(t=parseFloat(t.toString()));for(var n in e)if(r=n,n>=0&&n%1==0)break;for(var l=parseFloat(r);l<i._drawMax;l+=t)for(var o=2;o<=9;o++){var s=o*Math.pow(10,l+t-1);s<i.max&&a(s)}for(var c=parseFloat(r);c>i._drawMin;c-=t)for(var u=2;u<=9;u++){var m=u*Math.pow(10,c-1);m>i.min&&a(m)}}},{key:"_getAngleDifference",value:function(e,t){var a=Math.abs(t-e)%360;return a>180?360-a:a}},{key:"addCustomTicks",value:function(){var e=this.context,t=!e.logarithmicScale,a="",i="";e._tickValues=[],e._labelDummy=this._createMeasureLabel();for(var r=0;r<e.customTicks.length;r++){var n=e.customTicks[r],l=t?this.createDescriptor(n):Math.log10(n),o=r>0&&r<e.customTicks.length-1,s=this._addMajorTickAndLabel(e._formatLabel(n),void 0,!0,l,o);a+=s.tick,i+=s.label}"smart-tank"===e.nodeName.toLowerCase()&&e._updateScaleWidth(this._longestLabelSize),e._appendTicksAndLabelsToScales(a,i)}}]),e}()),Smart.Utilities.Assign("IntegerNumericProcessor",function(e){function t(e,a){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a)),r=i;return r.context=e,r.defaultMins={int8:"-128",uint8:"0",int16:"-32768",uint16:"0",int32:"-2147483648",uint32:"0",int64:"-9223372036854775808",uint64:"0"},r.defaultMaxs={int8:"127",uint8:"255",int16:"32767",uint16:"65535",int32:"2147483647",uint32:"4294967295",int64:"9223372036854775807",uint64:"18446744073709551615"},i}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"createDescriptor",value:function(e,t,a,i,r){var n=this.context,l=void 0;if(e.constructor!==BigNumberNG){var o=!r&&n._radixNumber?n._radixNumber:10;10===o&&t&&e.constructor!==BigNumberNG&&this.isENotation(e)&&(e=new Smart.Utilities.NumberRenderer(e).largeExponentialToDecimal()),l=n._toBigNumberDecimal?n._toBigNumberDecimal(e.toString(o,n._wordLengthNumber),o):new Smart.Utilities.BigNumber(e)}else l=new Smart.Utilities.BigNumber(e);return a&&(n._unsigned&&-1===l.compare(0)&&(l=l.set(0)),i&&(l=this.validate(l,n._minObject,n._maxObject)),l=this.round(l)),l}},{key:"round",value:function(e){if(this.context._wordLengthNumber<64)return new Smart.Utilities.BigNumber(Math.round(e.toString()));var t=e.mod(1);return 1===t._d.length&&0===t._d[0]||(e=e.intPart(),e._s?t._d[1]>5&&(e=e.add(-1)):t._d[1]>4&&(e=e.add(1))),e}},{key:"validate",value:function(e,t,a){return-1===e.compare(t)?t:1===e.compare(a)?a:e}},{key:"validateMinMax",value:function(e,t){var a=this.context,i=this.defaultMins[a.wordLength],r=new Smart.Utilities.BigNumber(i),n=this.defaultMaxs[a.wordLength],l=new Smart.Utilities.BigNumber(n);if(void 0===a._numberRenderer&&(a._numberRenderer=new Smart.Utilities.NumberRenderer),e){null!==a.min&&(a.min=a.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(a.min)&&(a.min=this.scientificToDecimal(a.min)));var o=this.round(new Smart.Utilities.BigNumber(a.min));null===a.min||a._minIsNull&&a._initialized||!(o.compare(r)>=0)?(a._minIsNull=!0,a.min=i,a._minObject=r):a._minObject=o}if(t){null!==a.max&&(a.max=a.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(a.max)&&(a.max=this.scientificToDecimal(a.max)));var s=this.round(new Smart.Utilities.BigNumber(a.max));null===a.max||a._maxIsNull&&a._initialized||!(s.compare(l)<=0)?(a._maxIsNull=!0,a.max=n,a._maxObject=l):a._maxObject=s}this.compare(a._minObject,a._maxObject)||(a._minObject=r,a._maxObject=l,a._drawMin=a.logarithmicScale?0:i,a._drawMax=a.logarithmicScale?10:n,a.min=i,a.max=n)}},{key:"valueToPx",value:function(e){var t=this.context,a=new Smart.Utilities.BigNumber(t._measurements.trackLength).divide(new Smart.Utilities.BigNumber(t._range)),i=void 0;if(t._normalLayout){var r=t._drawMin instanceof BigNumberNG?t._drawMin:new Smart.Utilities.BigNumber(t._drawMin);e=new Smart.Utilities.BigNumber(e),i=parseFloat(a.multiply(e.subtract(r)).toString())}else{var n=t._drawMax instanceof BigNumberNG?t._drawMax:new Smart.Utilities.BigNumber(t._drawMax);i=parseFloat(this.round(n.subtract(e).multiply(a)).toString())}return i}},{key:"pxToValue",value:function(e){var t=this.context,a=void 0;if(a=t._normalLayout?t._valuePerPx.multiply(e-t._trackStart):t._valuePerPx.multiply(t._trackEnd-e),t.logarithmicScale){var i=parseFloat(a)+parseFloat(t._drawMin);return new Smart.Utilities.BigNumber(Math.round(Math.pow(10,i)))}return this.createDescriptor(t._minObject.add(a),!1,!0,!0)}},{key:"compare",value:function(e,t){return(null===e||null===t)&&e!==t||(e.constructor!==BigNumberNG&&(e=new Smart.Utilities.BigNumber(e)),0!==e.compare(t))}},{key:"incrementDecrement",value:function(e,t,a){var i=this.context,r=void 0;if(e.constructor!==BigNumberNG&&(e=new Smart.Utilities.BigNumber(e)),"add"===t){if(r=e.add(a),void 0!==i._drawMax)return r.compare(i._drawMax)>0?new Smart.Utilities.BigNumber(i._drawMax):r}else if(r=e.subtract(a),void 0!==i._drawMin)return r.compare(i._drawMin)<0?new Smart.Utilities.BigNumber(i._drawMin):r;return r}},{key:"render",value:function(e,t){var a=this.context;if(!a.scientificNotation&&!0===t)return new Smart.Utilities.NumberRenderer(new Smart.Utilities.BigNumber(e)).bigNumberToExponent(a.significantDigits);var i=e;return a.scientificNotation&&!0===t?i=new Smart.Utilities.NumberRenderer(i).toScientific(a.significantDigits,a.precisionDigits):"string"!=typeof e&&(i=e.toString(a._radixNumber,a._wordLengthNumber)),i}},{key:"addTicksAndLabels",value:function(){var e=this.context,t=e._measurements.trackLength,a=e._normalLayout,i=e._majorTicksInterval,r=this.round(new Smart.Utilities.BigNumber(e._range).divide(i)),n=t/r,l=new Smart.Utilities.BigNumber(e._drawMin),o=new Smart.Utilities.BigNumber(e._drawMax),s=void 0,c=void 0,u=void 0,m=void 0,d=void 0,g=void 0,v=void 0,p=void 0,b=void 0,h="",_="";e._tickValues=[],this._longestLabelSize=0,a?(s=l,c=i.add(s.subtract(s.mod(i))),u=c.subtract(s),d=e._formatLabel(l),g=e._tickIntervalHandler.labelsSize.minLabelSize,m=o,v=e._formatLabel(o),p=e._tickIntervalHandler.labelsSize.maxLabelSize):(s=o,c=s.subtract(s.mod(i)),u=s.subtract(c),d=e._formatLabel(o),g=e._tickIntervalHandler.labelsSize.maxLabelSize,m=l,v=e._formatLabel(l),p=e._tickIntervalHandler.labelsSize.minLabelSize),e._labelDummy=this._createMeasureLabel(),b=this._addMajorTickAndLabel(d,g,!0,s),h+=b.tick,_+=b.label;var f=u.divide(i).multiply(n);if(0!==c.compare(e.max)&&f.compare(t)<0){var x=e._formatLabel(c.toString()),S=f.compare(g)>0;b=this._addMajorTickAndLabel(x,void 0,S,c,!0),h+=b.tick,_+=b.label}b=this.addMiddleMajorTicks(r,n,f,u,a,i),h+=b.tick,_+=b.label,b=this._addMajorTickAndLabel(v,p,!0,m),h+=b.tick,_+=b.label,h+=this.addMinorTicks(a),e._measureLabelScale.removeChild(e._labelDummy),delete e._labelDummy,delete e._measureLabelScale,"smart-tank"===e.nodeName.toLowerCase()&&e._updateScaleWidth(this._longestLabelSize),e._appendTicksAndLabelsToScales(h,_)}},{key:"addMiddleMajorTicks",value:function(e,t,a,i,r,n){for(var l=this.context,o="",s="",c=void 0,u=1;u<e;u++){var m=a.add(u*t),d=void 0;if(r?d=n.multiply(u).add(i.add(new Smart.Utilities.BigNumber(l._drawMin))):(d=new Smart.Utilities.BigNumber(l._drawMax).subtract(i).subtract(n.multiply(u)),u===e-1&&0===d.compare(0)&&(l._numberRenderer.numericValue=l._tickIntervalHandler.nearestPowerOfTen,c=l._numberRenderer.bigNumberToExponent(1))),0!==d.compare(l._drawMax)){var g=l._formatLabel(d.toString()),v=!0;l._labelDummy.innerHTML=c||g;var p=l._labelDummy[l._settings.size];m.add(p).compare(e*t)>=0&&(v=!1);var b=this._addMajorTickAndLabel(g,void 0,v,d,!0);o+=b.tick,s+=b.label}}return{tick:o,label:s}}},{key:"addMinorTicks",value:function(e){function t(e){-1===i.indexOf(e)&&e%n==0&&(u+='<div style="'+l+": "+a._numericProcessor.valueToPx(e)+'px;" class="smart-tick smart-tick-minor"></div>')}var a=this.context,i=a._tickValues,r=a._tickIntervalHandler.nearestPowerOfTen,n=a._minorTicksInterval,l=a._settings.leftOrTop,o=void 0,s=void 0,c=void 0,u="";if(e?(o=i[0],s=i[1],c=i[i.length-1]):(o=i[i.length-1],s=i[i.length-2],c=i[0]),a.logarithmicScale)!function(){var e=a._measurements.trackLength,t=e/i.length,r=.1;t<20?r=1:t>=20&&t<40?r=s-o>1?1:.5:t>=40&&t<80&&(r=.2);for(var n=Math.floor(a._drawMax),c=a._drawMax-n,m=a._drawMax-a._drawMin>i.length,d=a._drawMax;d>0;d-=1)for(var g=c>0?Math.pow(10,d-c+1):Math.pow(10,d),v=g*r,p=g;p>0;p-=v)if(p<a.max&&p>a.min){var b=new Smart.Utilities.BigNumber(Math.log10(p));(b%1==0&&m||!m)&&(u+='<div style="'+l+": "+a._numericProcessor.valueToPx(b)+'px;" class="smart-tick smart-tick-minor"></div>')}}();else{for(var m=s;o.compare(m)<0;m=m.subtract(r))t(m);for(var d=s.add(r);c.compare(d)>0;d=d.add(r))t(d)}return u}},{key:"validateCustomTicks",value:function(){for(var e=this.context,t=[],a=0;a<e.customTicks.length;a++){var i=e.customTicks[a],r=this.createDescriptor(i);r.compare(e._minObject)>=0&&r.compare(e._maxObject)<=0&&t.push(r)}t.sort(function(e,t){return e.compare(t)});for(var n=0;n<t.length;n++)t[n]=t[n].toString();e.customTicks=t.slice(0)}},{key:"addGaugeTicksAndLabels",value:function(){var e=this.context;if(!("none"===e.ticksVisibility&&"none"===e.labelsVisibility||!1===e._plotTicks&&!1===e._plotLabels)){var t=this,a=Math.max(e._tickIntervalHandler.labelsSize.minLabelSize,e._tickIntervalHandler.labelsSize.maxLabelSize),i=e._majorTicksInterval,r=e._minorTicksInterval,n={},l=e._distance,o=e._measurements.radius,s=o-l.majorTickDistance,c=o-l.minorTickDistance,u=new Smart.Utilities.BigNumber(e._drawMin),m=new Smart.Utilities.BigNumber(e._drawMax),d=void 0,g=void 0,v=void 0,p=void 0,b=void 0,h=void 0;"none"!==e.ticksVisibility&&!1!==e._plotTicks?(d=function(t){e._drawTick(t,s,"major")},g=function(a){e._drawTick(t.getAngleByValue(a,!0),c,"minor")}):(d=function(){},g=function(){}),v="none"!==e.labelsVisibility&&!1!==e._plotLabels?function(t,a,i){e._drawLabel(t,a,l.labelDistance,i)}:function(){},e.inverted?(b=e.startAngle,h=e.endAngle):(b=e.endAngle,h=e.startAngle),p=t.getAngleByValue(u,!1),d(p),n[e._drawMin.toString()]=!0,v(p,e.min,!1);var _=u.subtract(u.mod(i)),f=void 0;-1!==u.compare(0)&&(_=_.add(i));for(var x=new Smart.Utilities.BigNumber(_);-1!==x.compare(u);x=x.subtract(r))f=x;p=t.getAngleByValue(_,!1),d(p),n[_.toString()]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(b,t.getAngleByValue(_,!1,!0))/360)>a&&v(p,this.getActualValue(_),-1===_.compare(m));var S=void 0;for(S=_.add(i);-1===S.compare(m.subtract(i));S=S.add(i))p=t.getAngleByValue(S,!1),d(p),n[S.toString()]=!0,v(p,this.getActualValue(S),!0);if(void 0===n[S.toString()]&&1!==S.compare(m)&&(p=t.getAngleByValue(S,!1),d(p),n[S.toString()]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(h,t.getAngleByValue(S,!1,!0))/360)>=a&&v(p,this.getActualValue(S),!0),e._normalizedStartAngle!==e.endAngle&&(p=t.getAngleByValue(m,!1),d(p),2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(h,b)/360)>=a&&v(p,e.max,!1))),e.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(n,i,g);else for(var y=f;-1===y.compare(m);y=y.add(r))n[y.toString()]||g(y)}}},{key:"updateToolTipAndValue",value:function(e,t,a){var i=this.context,r=i.logarithmicScale;i._updateTooltipValue(e.toString()),r&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11))),e=e instanceof BigNumberNG?e:new Smart.Utilities.BigNumber(e);var n=e.toString();i._drawValue=r?Math.log10(n):e,0!==e.compare(t)&&a&&(i.value=n,i.$.hiddenInput&&(i.$.hiddenInput.value=i.value),i.$.fireEvent("change",{value:n,oldValue:t}))}},{key:"validateInterval",value:function(e){var t=this.context,a=t._maxObject.subtract(t._minObject);t._validInterval=new Smart.Utilities.BigNumber(e),t._validInterval=this.round(t._validInterval),1===t._validInterval.compare(a)&&(t._validInterval=a),t.interval=t._validInterval.toString()}},{key:"getCoercedValue",value:function(e,t){var a=this.context;if(!a.coerce)return e;var i=!a.logarithmicScale;e=e instanceof BigNumberNG?e:new Smart.Utilities.BigNumber(e);var r=void 0,n=void 0;if(a.customInterval){var l=a.customTicks;if(0===l.length)return e;var o=void 0,s=void 0;if(i){r=a._minObject,o=r.subtract(e).abs(),s=r;for(var c=0;c<l.length;c++){var u=this.createDescriptor(l[c]),m=u.subtract(e).abs();-1===m.compare(o)&&(o=m,s=u)}}else{r=a._drawMin,o=Math.abs(r-parseFloat(e.toString())),s=r;for(var d=0;d<l.length;d++){var g=Math.log10(l[d]),v=Math.abs(g-e);v<o&&(o=v,s=g)}}return s}!1!==t?(r=new Smart.Utilities.BigNumber(a._drawMin),n=new Smart.Utilities.BigNumber(a._drawMax)):(r=new Smart.Utilities.BigNumber(a.min),n=new Smart.Utilities.BigNumber(a.max));var p=e.subtract(r),b=p.mod(a._validInterval);if(0===b.compare(0))return e;var h=p.subtract(b),_=h.add(a._validInterval);if(p.subtract(h).abs().compare(p.subtract(_).abs())<0)return h.add(r);var f=_.add(r);return f.compare(n)<=0?f:h.add(r)}},{key:"updateValue",value:function(e){var t=this.context;e=e instanceof BigNumberNG?e:new Smart.Utilities.BigNumber(e);var a=this.validate(e,t._minObject,t._maxObject),i=t._number;this.compare(e,t._number)||t._scaleTypeChangedFlag?(t.value=e.toString(),t._number=a,t.$.hiddenInput&&(t.$.hiddenInput.value=t.value),t.$.fireEvent("change",{value:t.value,oldValue:i})):t.value=e.toString(),t._drawValue=t.logarithmicScale?Math.log10(a):a,t._moveThumbBasedOnValue(t._drawValue)}},{key:"getValuePerPx",value:function(e,t){return new Smart.Utilities.BigNumber(e).divide(t)}},{key:"restrictValue",value:function(e){e[1].constructor===BigNumberNG?-1===e[1].compare(e[0])&&e[1].set(e[0]):e[1]<e[0]&&(e[1]=e[0])}},{key:"getAngleByValue",value:function(e,a,i){var r=this.context;if(r._wordLengthNumber<64)return babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getAngleByValue",this).call(this,parseFloat(e.toString()),a,i);e instanceof BigNumberNG==!1&&(e=new Smart.Utilities.BigNumber(e)),!1!==a&&r.logarithmicScale&&(e=new Smart.Utilities.BigNumber(Math.log10(e.toString())));var n=e.subtract(r._drawMin).multiply(r._angleRangeCoefficient),l=void 0;return l=r.inverted?n.add(r.startAngle):n.multiply(-1).add(r.endAngle),l=parseFloat(l.toString()),i?l:l*Math.PI/180+Math.PI/2}},{key:"getValueByAngle",value:function(e){var a=this.context;if(a._wordLengthNumber<64)return babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getValueByAngle",this).call(this,e,!0);var i=void 0,r=void 0,n=void 0;for(a.inverted?(i=e,r=a._normalizedStartAngle):(i=a.endAngle,r=e);i<r;)i+=360;return n=new Smart.Utilities.BigNumber((i-r)/a._angleDifference).multiply(a._range).add(a._drawMin),a.logarithmicScale&&(n=new Smart.Utilities.BigNumber(Math.pow(10,n.toString()))),a.coerce?this.getCoercedValue(n,!1):this.round(n)}},{key:"updateGaugeValue",value:function(e){e instanceof BigNumberNG==!1&&babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateGaugeValue",this).call(this,e);var a=this.context,i=a.value;a.value=e.toString(),a._drawValue=a.logarithmicScale?Math.log10(a.value).toString():a.value,a._number=e,a.$.digitalDisplay.value=a.value,a.$.fireEvent("change",{value:a.value,oldValue:i})}},{key:"validateColorRange",value:function(e){var a=this.context;if(a._wordLengthNumber<64)return babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateColorRange",this).call(this,e);e=new Smart.Utilities.BigNumber(e);var i=new Smart.Utilities.BigNumber(a.min),r=new Smart.Utilities.BigNumber(a.max);return-1===e.compare(i)&&(e=i),1===e.compare(r)&&(e=r),e}},{key:"lockRotation",value:function(e,t){var a=this.context;if(t instanceof BigNumberNG==!1&&(t=new Smart.Utilities.BigNumber(t)),e&&-1===t.compare(a._number)){if(a._lockCW=!0,-1===t.compare(a._maxObject))return new Smart.Utilities.BigNumber(a._maxObject)}else if(!e&&1===t.compare(a._number)&&(a._lockCCW=!0,1===t.compare(a._minObject)))return new Smart.Utilities.BigNumber(a._minObject)}},{key:"getAngleRangeCoefficient",value:function(){var e=this.context;e._angleRangeCoefficient=new Smart.Utilities.BigNumber(e._angleDifference).divide(e._range)}}]),t}(Smart.Utilities.BaseNumericProcessor)),Smart.Utilities.Assign("DecimalNumericProcessor",function(e){function t(e,a){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return i.context=e,i}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getPreciseModulo",value:function(e,t,a){var i=e>=0?1:-1;if(e=Math.abs(e),t=Math.abs(t),void 0===a){var r=e.toExponential(),n=t.toExponential(),l=parseInt(r.slice(r.indexOf("e")+1),10),o=parseInt(n.slice(n.indexOf("e")+1),10),s=l<0?Math.abs(l):0,c=o<0?Math.abs(o):0,u=Math.max(s,c);if(this.roundCoefficient=u,e<t)return i*e;if(e===t)return 0;if((e<-1||e>1)&&(t<-1||t>1||1===t))return e%1==0&&t%1==0?i*(e%t):i*parseFloat(new Smart.Utilities.BigNumber(e).mod(t).toString());var m=Math.pow(10,u);return i*(e*m%(t*m)/m)}return i*(Math.round(e*a)%Math.round(t*a))}},{key:"createDescriptor",value:function(e,t,a,i){var r=parseFloat(e);return i&&(r=this.validate(r,this.context._minObject,this.context._maxObject)),r}},{key:"validate",value:function(e,t,a){return e<t?t:e>a?a:e}},{key:"validateMinMax",value:function(e,t){var a=this.context,i=void 0!==a._regexSpecial&&a._regexSpecial.inf.test(a.min),r=void 0!==a._regexSpecial&&a._regexSpecial.inf.test(a.max);e&&((null===a.min||i)&&(a.min=-1/0),a.min=a.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(a.min)&&(a.min=this.scientificToDecimal(a.min)),a._minObject=a._discardDecimalSeparator(a.min)),t&&((null===a.max||r)&&(a.max=1/0),a.max=a.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(a.max)&&(a.max=this.scientificToDecimal(a.max)),a._maxObject=a._discardDecimalSeparator(a.max)),this.compare(a._minObject,a._maxObject)||(a._maxObject=parseFloat(a._maxObject)+1,a.max=a._maxObject)}},{key:"valueToPx",value:function(e){var t=this.context,a=t._measurements.trackLength/t._range,i=void 0;return i=t._normalLayout?a*(e-t._drawMin):a*(t._drawMax-e),Math.round(i)}},{key:"pxToValue",value:function(e){var t=this.context,a=void 0;if(a=t._normalLayout?(e-t._trackStart)*t._valuePerPx:(t._trackEnd-e)*t._valuePerPx,t.logarithmicScale){var i=a+parseFloat(t._drawMin);return Math.pow(10,i)}return this.validate(a+t._minObject,t._minObject,t._maxObject)}},{key:"compare",value:function(e,t){return e!==t}},{key:"incrementDecrement",value:function(e,t,a){var i=this.context,r=void 0;if("add"===t){if(r=parseFloat(e)+parseFloat(a),void 0!==i._drawMax)return r>parseFloat(i._drawMax)?i._drawMax:r}else if(r=parseFloat(e)-parseFloat(a),void 0!==i._drawMin)return r<parseFloat(i._drawMin)?i._drawMin:r;return r}},{key:"render",value:function(e){var t=this.context;if(void 0!==t._regexSpecial&&t._regexSpecial.nonNumericValue.test(e))return e;var a=new Smart.Utilities.NumberRenderer(e);return t.scientificNotation?a.toScientific(t.significantDigits,t.precisionDigits):a.toDigits(t.significantDigits,t.precisionDigits)}},{key:"addTicksAndLabels",value:function(){var e=this.context,t=e._measurements.trackLength,a=e._normalLayout,i=e._majorTicksInterval,r=Math.round(e._range/parseFloat(i.toString())),n=t/r,l=parseFloat(e._drawMin),o=parseFloat(e._drawMax),s=void 0,c=void 0,u=void 0,m=void 0,d=void 0,g=void 0,v=void 0,p=void 0,b=void 0,h="",_="";e._tickValues=[],this._longestLabelSize=0,a?(s=l,c=e.logarithmicScale&&l<0&&-1!==l?parseFloat(s-this.getPreciseModulo(s,i)):parseFloat(s-this.getPreciseModulo(s,i)+parseFloat(i)),u=c-s,d=e._formatLabel(l),g=e._tickIntervalHandler.labelsSize.minLabelSize,m=o,v=e._formatLabel(o),p=e._tickIntervalHandler.labelsSize.maxLabelSize):(s=o,c=parseFloat(s-this.getPreciseModulo(s,i)),u=s-c,d=e._formatLabel(o),g=e._tickIntervalHandler.labelsSize.maxLabelSize,m=l,v=e._formatLabel(l),p=e._tickIntervalHandler.labelsSize.minLabelSize),e._labelDummy=this._createMeasureLabel(),b=this._addMajorTickAndLabel(d,g,!0,s),h+=b.tick,_+=b.label;var f=u/i*n;if(c.toString()!==e._drawMax.toString()&&f<t){var x=e._formatLabel(c.toString()),S=g<f;b=this._addMajorTickAndLabel(x,void 0,S,c,!0),h+=b.tick,_+=b.label}b=this.addMiddleMajorTicks(r,n,f,u,a,i),h+=b.tick,_+=b.label,b=this._addMajorTickAndLabel(v,p,!0,m),h+=b.tick,_+=b.label,h+=this.addMinorTicks(a),e._measureLabelScale.removeChild(e._labelDummy),delete e._labelDummy,delete e._measureLabelScale,"smart-tank"===e.nodeName.toLowerCase()&&e._updateScaleWidth(this._longestLabelSize),e._appendTicksAndLabelsToScales(h,_)}},{key:"addMiddleMajorTicks",value:function(e,t,a,i,r,n){for(var l=this.context,o="",s="",c=1;c<e;c++){var u=c*t+a,m=void 0;if(m=r?parseFloat(l._drawMin)+n*c+i:parseFloat(l._drawMax)-n*c-i,m.toString()!==l._drawMax.toString()){var d=l._formatLabel(m.toString()),g=!0;l._labelDummy.innerHTML=d;u+l._labelDummy[l._settings.size]>=e*t&&(g=!1);var v=this._addMajorTickAndLabel(d,void 0,g,m,!0);o+=v.tick,s+=v.label}}return{tick:o,label:s}}},{key:"addMinorTicks",value:function(e){function t(e){return parseFloat(e.toFixed(o))}function a(e){-1===r.indexOf(e)&&0===i._numericProcessor.getPreciseModulo(e,l,s)&&(g+='<div style="'+c+": "+i._numericProcessor.valueToPx(e)+'px;" class="smart-tick smart-tick-minor"></div>')}var i=this.context,r=i._tickValues,n=i._tickIntervalHandler.nearestPowerOfTen,l=i._minorTicksInterval,o=Math.log10(n)<0?Math.round(Math.abs(Math.log10(n))):0,s=Math.pow(10,o),c=i._settings.leftOrTop,u=void 0,m=void 0,d=void 0,g="";if(e?(u=r[0],m=r[1],d=r[r.length-1]):(u=r[r.length-1],m=r[r.length-2],d=r[0]),i.logarithmicScale)!function(){var e=i._measurements.trackLength,t=e/r.length,a=.1;t<20?a=1:t>=20&&t<40?a=m-u>1?1:.5:t>=40&&t<80&&(a=.2);for(var n=Math.floor(i._drawMax),l=i._drawMax-n,o=i._drawMax-i._drawMin>r.length,s=i._drawMax;s>i._drawMin-1;s-=1)for(var d=l>0?Math.pow(10,s-l+1):Math.pow(10,s),v=d*a,p=d;p>0;p-=v)if(p<i.max&&p>i.min){var b=new Smart.Utilities.BigNumber(Math.log10(p));(b%1==0&&o||!o)&&(g+='<div style="'+c+": "+i._numericProcessor.valueToPx(b)+'px;" class="smart-tick smart-tick-minor"></div>')}}();else{for(var v=m;v>u;v=t(v-n))a(v);for(var p=t(m+n);p<d;p=t(p+n))a(p)}return g}},{key:"validateCustomTicks",value:function(){for(var e=this.context,t=[],a=0;a<e.customTicks.length;a++){var i=e.customTicks[a],r=this.createDescriptor(i);r>=e._minObject&&r<=e._maxObject&&t.push(r.toString())}t.sort(function(e,t){return e-t}),e.customTicks=t.slice(0)}},{key:"addGaugeTicksAndLabels",value:function(){var e=this.context;if(!("none"===e.ticksVisibility&&"none"===e.labelsVisibility||!1===e._plotTicks&&!1===e._plotLabels)){var t=this,a=Math.max(e._tickIntervalHandler.labelsSize.minLabelSize,e._tickIntervalHandler.labelsSize.maxLabelSize),i=e._majorTicksInterval,r=e._minorTicksInterval,n={},l=e._distance,o=e._measurements.radius,s=o-l.majorTickDistance,c=o-l.minorTickDistance,u=void 0,m=void 0,d=void 0,g=void 0,v=void 0,p=void 0;"none"!==e.ticksVisibility&&!1!==e._plotTicks?(u=function(t){e._drawTick(t,s,"major")},m=function(a){e._drawTick(t.getAngleByValue(a,!0),c,"minor")}):(u=function(){},m=function(){}),d="none"!==e.labelsVisibility&&!1!==e._plotLabels?function(t,a,i){e._drawLabel(t,a,l.labelDistance,i)}:function(){},e.inverted?(v=e.startAngle,p=e.endAngle):(v=e.endAngle,p=e.startAngle),g=t.getAngleByValue(e._drawMin,!1),u(g),n[e._drawMin]=!0,d(g,e.min,!1);var b=e._drawMin-t.getPreciseModulo(e._drawMin,i),h=void 0;e._drawMin>=0&&(b+=i);for(var _=b;_>=e._drawMin;_-=r)h=_;g=t.getAngleByValue(b,!1),u(g),n[b]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(v,t.getAngleByValue(b,!1,!0))/360)>a&&d(g,this.getActualValue(b),b<e._drawMax);var f=void 0;for(f=b+i;f<e._drawMax-i;f+=i)g=t.getAngleByValue(f,!1),u(g),n[f]=!0,d(g,this.getActualValue(f),!0);if(void 0===n[f]&&f<=e._drawMax&&(g=t.getAngleByValue(f,!1),u(g),n[f]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(p,t.getAngleByValue(f,!1,!0))/360)>=a&&d(g,this.getActualValue(f),!0),e._normalizedStartAngle!==e.endAngle&&(g=t.getAngleByValue(e._drawMax,!1),u(g),n[e._drawMax]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(p,v)/360)>=a&&d(g,e.max,!1))),e.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(n,i,m);else for(var x=h;x<e._drawMax;x+=r)n[x]||m(x)}}},{key:"updateToolTipAndValue",value:function(e,t,a){var i=this.context,r=i.logarithmicScale;i._updateTooltipValue(e),r&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)));var n=e.toString();i._drawValue=r?Math.log10(n):e,e!==t&&a&&(i.value=i._discardDecimalSeparator(n),i.$.hiddenInput&&(i.$.hiddenInput.value=i.value),i.$.fireEvent("change",{value:i.value,oldValue:t}))}},{key:"validateInterval",value:function(e){var t=this.context,a=t._maxObject-t._minObject;t._validInterval=Math.min(parseFloat(e),a),t.interval=t._validInterval}},{key:"getCoercedValue",value:function(e,t){var a=this.context;if(!a.coerce)return e;var i=!a.logarithmicScale,r=void 0,n=void 0;if(a.customInterval){var l=a.customTicks;if(0===l.length)return e;r=!1!==t?parseFloat(a._drawMin):a._minObject;for(var o=Math.abs(r-e),s=r,c=0;c<l.length;c++){var u=this.createDescriptor(l[c]),m=i?u:Math.log10(u),d=Math.abs(m-e);d<o&&(o=d,s=m)}return s}!1!==t?(r=parseFloat(a._drawMin),n=parseFloat(a._drawMax)):(r=parseFloat(a.min),n=parseFloat(a.max));var g=e-r,v=this.getPreciseModulo(g,parseFloat(a.interval)),p=this.roundCoefficient;if(0===v)return e;0===this.roundCoefficient&&(p=12);var b=parseFloat((g-v).toFixed(p)),h=b+parseFloat(a.interval);if(a.max-a.min<=parseFloat(a.interval)&&i){var _=r,f=n;return e>=_+(f-_)/2?f:_}if(Math.abs(g-b)<Math.abs(g-h))return b+r;var x=h+r;return x>n?b+r:x}},{key:"updateValue",value:function(e){var t=this.context,a=this.validate(e,t._minObject,t._maxObject),i=t.value;parseFloat(e)!==i||t._scaleTypeChangedFlag?(t.value=e.toString(),t._number=a,t.$.hiddenInput&&(t.$.hiddenInput.value=t.value),t.$.fireEvent("change",{value:t.value,oldValue:i})):t.value="string"==typeof e?e:e.toString(),t._drawValue=t.logarithmicScale?Math.log10(a).toString():a.toString(),t._moveThumbBasedOnValue(t._drawValue)}},{key:"getValuePerPx",value:function(e,t){return parseFloat(e)/t}},{key:"restrictValue",value:function(e){e[1]<e[0]&&(e[1]=e[0])}},{key:"lockRotation",value:function(e,t){var a=this.context;if(e&&t<a._number){if(a._lockCW=!0,t<a._maxObject)return a._maxObject}else if(!e&&t>a._number&&(a._lockCCW=!0,t>a._minObject))return a._minObject}},{key:"getAngleRangeCoefficient",value:function(){var e=this.context;e._angleRangeCoefficient=e._angleDifference/e._range}}]),t}(Smart.Utilities.BaseNumericProcessor)),Smart.Utilities.Assign("ComplexNumericProcessor",function(e){function t(e,a){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return i.context=e,i}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"createDescriptor",value:function(e,t,a,i,r,n){var l=void 0;return l=n||(e.constructor===Smart.Utilities.Complex?new Smart.Utilities.Complex(e.realPart,e.imaginaryPart):new Smart.Utilities.Complex(e)),i&&(l=this.validate(l,this.context._minObject,this.context._maxObject)),l}},{key:"validate",value:function(e,t,a){var i=e
;return t!==-1/0?-1===this.compareComplexNumbers(e,t)&&(i=new Smart.Utilities.Complex(t.realPart,t.imaginaryPart)):a!==1/0&&1===this.compareComplexNumbers(e,a)&&(i=new Smart.Utilities.Complex(a.realPart,a.imaginaryPart)),i}},{key:"compare",value:function(e,t){return 0!==this.compareComplexNumbers(e,t)}},{key:"validateMinMax",value:function(e,t){var a=this.context;e&&(null===a.min||a._regexSpecial.inf.test(a.min)?(a.min=-1/0,a._minObject=-1/0):a._minObject=new Smart.Utilities.Complex(a.min)),t&&(null===a.max||a._regexSpecial.inf.test(a.max)?(a.max=1/0,a._maxObject=1/0):a._maxObject=new Smart.Utilities.Complex(a.max))}},{key:"incrementDecrement",value:function(e,t){var a=new Smart.Utilities.Complex(e.realPart,e.imaginaryPart),i=this.context._spinButtonsStepObject;return"add"===t?(a.realPart+=i.realPart,a.imaginaryPart+=i.imaginaryPart):(a.realPart-=i.realPart,a.imaginaryPart-=i.imaginaryPart),a}},{key:"render",value:function(e){var t=e;if(!1===this.context._regexSpecial.nonNumericValue.test(e)){var a=t.realPart,i=t.imaginaryPart,r=void 0,n=this.context.significantDigits,l=this.context.precisionDigits;i>=0?r="+":(r="-",i=Math.abs(i));var o=new Smart.Utilities.NumberRenderer(a),s=new Smart.Utilities.NumberRenderer(i);this.context.scientificNotation?(a=o.toScientific(n,l),i=s.toScientific(n,l)):(a=o.toDigits(n,l),i=s.toDigits(n,l)),t=a+" "+r+" "+i+"i"}return t}},{key:"compareComplexNumbers",value:function(e,t){if(e instanceof Smart.Utilities.Complex==!1||t instanceof Smart.Utilities.Complex==!1)return-1;var a=e.realPart,i=t.realPart;if(a<i)return-1;if(a>i)return 1;var r=e.imaginaryPart,n=t.imaginaryPart;return r<n?-1:r>n?1:0}}]),t}(Smart.Utilities.BaseNumericProcessor)),Smart.Utilities.Assign("NumberRenderer",function(){function e(t){babelHelpers.classCallCheck(this,e);var a=this;a.numericValue=t,a.powersToPrefixes={24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-2":"c","-3":"m","-6":"u","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},a.localizationObject={currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",defaultPrecision:2}}return babelHelpers.createClass(e,[{key:"isENotation",value:function(e){return new RegExp(/e/i).test(e)}},{key:"largeExponentialToDecimal",value:function(e){void 0===e&&(e=this.numericValue);var t=e.toString().toLowerCase(),a=t.indexOf("e"),i=new Smart.Utilities.BigNumber(t.slice(0,a)),r=t.slice(a+2),n=t.slice(a+1,a+2),l=new Smart.Utilities.BigNumber(10),o=l.pow(n+r);return i.multiply(o).toString()}},{key:"bigNumberToExponent",value:function(e,t){var a=this.numericValue;a.constructor!==BigNumberNG&&(a=new Smart.Utilities.BigNumber(a));var i=a._f,r=a.toString();if(i<=10)return t?parseFloat(r).toExponential(e-1):new Smart.Utilities.NumberRenderer(parseFloat(r)).toDigits(e);if(e>=i&&!t)return r;var n=void 0;!1===a._s?n="":(n="-",r=r.slice(1)),parseFloat(r.slice(e,e+1))>=5&&(r=new Smart.Utilities.BigNumber(r.slice(0,e)).add(1).toString());var l=r.slice(1,e);if(t)e--,l.length>0&&e>l.length?l+="0".repeat(e-l.length):0===l.length&&(l="0".repeat(e));else for(;l.length>0&&"0"===l.charAt(l.length-1);)l=l.slice(0,l.length-1);var o=l.length>0?".":"",s=i-1;return n+r.slice(0,1)+o+l+"E+"+s}},{key:"toScientific",value:function(){var e=this;if(e.numericValue._d)return e.bigNumberToScientific(arguments[0],arguments[1]);var t=Number(e.numericValue.toString()).toExponential(),a=t.indexOf("e"),i=t.slice(a+1),r=parseFloat(t.slice(0,a));if("-2"===i)return r+"c";var n=parseInt(i,10)%3;if(n>0)for(var l=0;l<n;l++)r*=10;else n<0&&(r=parseFloat(new Smart.Utilities.BigNumber(r).multiply(Math.pow(10,n)).toString()));if(i>0){var o=r>=0?0:1,s=t.slice(o,a).length-n-2;s>=0&&(r=r.toFixed(s))}r=new Smart.Utilities.NumberRenderer(r).toDigits(arguments[0],arguments[1]);var c=parseInt(i,10)-n;return r+e.powersToPrefixes[c.toString()]}},{key:"bigNumberToScientific",value:function(){var e=this,t=e.numericValue._f-1,a=parseInt(t,10)%3,i=parseInt(t,10)-a,r=e.numericValue.toString(),n=void 0,l=void 0;if("-"===r.charAt(0)?(n="-",r=r.slice(1)):n="",null!==arguments[0])for(l=r.slice(0,arguments[0]),parseFloat(r.slice(arguments[0],arguments[0]+1))>=5&&(l=new Smart.Utilities.BigNumber(l).add(1).toString());l.length>1+a&&"0"===l.charAt(l.length-1);)l=l.slice(0,l.length-1);else null!==arguments[1]&&(l=r.slice(0,arguments[1]+1),parseFloat(r.slice(arguments[1]+1,arguments[1]+2))>=5&&(l=new Smart.Utilities.BigNumber(l).add(1).toString()),arguments[1]+a>l.length-1&&(l+="0".repeat(arguments[1]+a-l.length+1)));return l.length>1+a&&(l=l.slice(0,1+a)+"."+l.slice(1+a)),n+l+e.powersToPrefixes[i.toString()]}},{key:"toDigits",value:function(e,t){var a=this;return null!==e?a.applySignificantDigits(e):null!==t?a.applyPrecisionDigits(t):a.applySignificantDigits(8)}},{key:"applySignificantDigits",value:function(e){function t(e){for(;"0"===e.charAt(e.length-1);)e=e.slice(0,-1);return"."===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}var a=this;e=Math.max(1,Math.min(e,21));var i=parseFloat(a.numericValue).toPrecision(e).toUpperCase();if(-1!==i.indexOf("."))if(a.isENotation(i)){var r=i.indexOf("."),n=i.indexOf("E"),l=i.slice(r,n);l=t(l),i=i.slice(0,r)+l+i.slice(n)}else i=t(i);return i}},{key:"applyPrecisionDigits",value:function(e){var t=this;e=Math.max(0,Math.min(e,20));var a=parseFloat(t.numericValue).toFixed(e);return t.isENotation(a)&&(a=t.largeExponentialToDecimal(a)+"."+"0".repeat(e)),a}},{key:"getLogarithm",value:function(e){var t=this.numericValue,a=void 0;if(void 0===e&&(e=10),10===e)try{a=Math.log10(t)}catch(e){a=Math.log(t)/Math.log(10)}else a=Math.log(t)/Math.log(e);return a}},{key:"applySeparators",value:function(e,t){var a=this,i=e.indexOf(".");if(-1!==i){var r=e.slice(0,i),n=e.slice(i+1);return a.applyThousandsSeparator(r,t)+a.localizationObject.decimalseparator+n}return a.applyThousandsSeparator(e,t)}},{key:"applyThousandsSeparator",value:function(e,t){if(t)return e;var a="";"-"===e.charAt(0)&&(a="-",e=e.slice(1));for(var i=e.split("").reverse(),r=2;r<i.length-1;r+=3)i[r]=this.localizationObject.thousandsseparator+i[r];return i.reverse(),i=i.join(""),a+i}},{key:"formatNumber",value:function(e,t,a){var i=this,r=t.slice(0,1),n=t.slice(1);if(""!==n&&(isNaN(parseFloat(n))||parseFloat(n)<0||parseFloat(n)>99?n="":parseFloat(n)%1!=0&&(n=Math.round(n))),e._d)i.inputFormat="integer";else{if(e.imaginaryPart)return i.formatComplexNumber(e,t,r,n);i.inputFormat="floatingPoint"}var l=new Smart.Utilities.NumericProcessor(i,"inputFormat"),o=l.createDescriptor(e),s=void 0;switch("integer"===i.inputFormat&&(o=l.round(o)),i.numericValue=o,r){case"C":case"c":return""===n&&(n=i.localizationObject.defaultPrecision),n=parseFloat(n),s="floatingPoint"===i.inputFormat?i.applyPrecisionDigits(n):o.toString()+(n>0?"."+"0".repeat(n):""),s=i.applySeparators(s),"before"===i.localizationObject.currencysymbolposition?"-"===s.charAt(0)?"-"+i.localizationObject.currencysymbol+s.slice(1):i.localizationObject.currencysymbol+s:s+" "+i.localizationObject.currencysymbol;case"D":case"d":if(s=o,"floatingPoint"===i.inputFormat&&(s=Math.round(o)),s=s.toString(),""===n)return s;var c="";"-"===s.charAt(0)&&(c="-",s=s.slice(1));var u=n-s.length;return u>0&&(s="0".repeat(u)+s),c+s;case"E":case"e":""===n&&(n=6),s="floatingPoint"===i.inputFormat?o.toExponential(n):i.bigNumberToExponent(parseFloat(n)+1,!0).toLowerCase();var m=s.indexOf("e"),d=s.slice(m+2).length;return d<3&&(s=s.slice(0,m+2)+"0".repeat(3-d)+s.slice(m+2)),"E"===r&&(s=s.toUpperCase()),i.applySeparators(s,!0);case"F":case"f":case"N":case"n":return""===n&&(n=i.localizationObject.defaultPrecision),n=parseFloat(n),s="floatingPoint"===i.inputFormat?i.applyPrecisionDigits(n):o.toString()+(n>0?"."+"0".repeat(n):""),i.applySeparators(s,"f"===r.toLowerCase());case"G":case"g":if(""===n||"0"===n)if("floatingPoint"===i.inputFormat)n=15;else switch(a){case"int8":case"uint8":n=3;break;case"int16":case"uint16":n=5;break;case"int64":n=19;break;case"uint64":n=20;break;default:n=10}n=parseFloat(n);var g=i.formatNumber(e,"E"+n),v=g.indexOf("E"),p=parseInt(g.slice(v+1),10);if(p>-5&&p<n)return"floatingPoint"===i.inputFormat?i.applySeparators(i.applySignificantDigits(n),!0):o.toString();if(p>-100&&p<100&&(g=g.slice(0,v+2)+g.slice(v+3)),-1!==g.indexOf(i.localizationObject.decimalseparator)){for(;"0"===g.charAt(v-1);)g=g.slice(0,v-1)+g.slice(v),v=g.indexOf("E");g.charAt(v-1)===i.localizationObject.decimalseparator&&(g=g.slice(0,v-1)+g.slice(v))}return"g"===r&&(g=g.toLowerCase()),g;case"P":case"p":return""===n&&(n=i.localizationObject.defaultPrecision),n=parseFloat(n),"floatingPoint"===i.inputFormat?(i.numericValue=100*o,s=i.applyPrecisionDigits(n)):s=o.multiply(100).toString()+(n>0?"."+"0".repeat(n):""),i.applySeparators(s)+" %";case"B":case"b":case"O":case"o":case"X":case"x":"integer"!==i.inputFormat&&(i.inputFormat="integer",l=new Smart.Utilities.NumericProcessor(i,"inputFormat"),o=l.round(l.createDescriptor(e)));var b=l.getWordLength(a||"int32"),h=void 0;switch(r){case"B":case"b":h=2;break;case"O":case"o":h=8;break;default:h=16}if(s=o.toString(h,b),""!==n){var _=parseFloat(n)-s.length;_>0&&(s="0".repeat(_)+s)}return"x"===r&&(s=s.toLowerCase()),s;case"S":case"s":return""===n&&(n=i.localizationObject.defaultPrecision),n=parseFloat(n),i.toScientific(null,n).replace(".",i.localizationObject.decimalseparator)}}},{key:"formatComplexNumber",value:function(e,t,a){var i=this;switch(a){case"E":case"e":case"F":case"f":case"G":case"g":case"N":case"n":case"S":case"s":return e.imaginaryPart>=0?i.formatNumber(e.realPart,t)+" + "+i.formatNumber(e.imaginaryPart,t)+"i":i.formatNumber(e.realPart,t)+" - "+i.formatNumber(Math.abs(e.imaginaryPart),t)+"i";default:return e.toString()}}}]),e}());
//# sourceMappingURL=smart.numeric.js.map
