
/* Smart HTML Elements v1.0.0 (2018-April) 
Copyright (c) 2011-2018 jQWidgets. 
License: http://htmlelements.com/pricing/ */

 "use strict";Smart("smart-toast",function(t){function e(){return babelHelpers.classCallCheck(this,e),babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return babelHelpers.inherits(e,t),babelHelpers.createClass(e,[{key:"template",value:function(){return'<div id="container">\n                    <div id="toastContainerTopLeft" class ="smart-toast-container-top-left"></div>\n                    <div id="toastContainerTopRight" class ="smart-toast-container-top-right"></div>\n                    <div id="toastContainerBottomLeft" class ="smart-toast-container-bottom-left"></div>\n                    <div id="toastContainerBottomRight" class ="smart-toast-container-bottom-right"></div>\n                    <div id="toastContainerCustom" class ="smart-toast-container-custom"></div>\n                    <div id="toastContainerModal" class ="smart-toast-container-modal"></div>\n                </div>'}},{key:"propertyChangedHandler",value:function(t,o,n){var a=this,i=void 0;switch(babelHelpers.get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"propertyChangedHandler",this).call(this,t,o,n),t){case"value":i=a._instances[a._instances.length-1],i&&(i.getElementsByClassName("smart-toast-item-content")[0].innerHTML=n);break;case"appendTo":null!==o&&null!==n?a.appendTo=o:null===n&&0===a.$.toastContainerCustom.childNodes.length&&a.$.container.appendChild(a.$.toastContainerCustom),a._handleContainers();break;case"modal":case"position":a._handleContainers()}}},{key:"attached",value:function(){var t=this,o=["TopLeft","TopRight","BottomLeft","BottomRight","Custom","Modal"];babelHelpers.get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attached",this).call(this);for(var n=0;n<o.length;n++){var a=t.$["toastContainer"+o[n]];a._parent=t,a.closest("smart-toast")&&a.childNodes.length>0&&("Custom"===o[n]?t._appendTo.appendChild(t._container):document.body.appendChild(a))}}},{key:"detached",value:function(){var t=this,o=["TopLeft","TopRight","BottomLeft","BottomRight","Custom","Modal"];babelHelpers.get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"detached",this).call(this);for(var n=0;n<o.length;n++){var a=t.$["toastContainer"+o[n]],i=a.childNodes;a.closest("smart-toast")||t.$.container.appendChild(a);for(var s=0;s<i.length;s++)i[s]._parent._close(i[s]);t.closeAll()}}},{key:"ready",value:function(){babelHelpers.get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"ready",this).call(this);var t=this;t.value=t.$.content.innerHTML=t.value?t.value:t.innerHTML,t._instances=[],t._handleContainers(),t.autoOpen&&t.open()}},{key:"closeAll",value:function(){for(var t=this,e=t._instances.length-1;e>-1;e--)t._close(t._instances[e])}},{key:"closeItem",value:function(t){var e=this;t&&0!==e._instances.length&&("string"==typeof t?t=document.getElementById(t):t instanceof HTMLElement&&(t=t.closest(".smart-toast-item")),t&&-1!==e._instances.indexOf(t)&&e._close(t))}},{key:"closeLast",value:function(){var t=this;t._instances.length>0&&t._close(t._instances[t._instances.length-1])}},{key:"open",value:function(){var t=this;if(!t.disabled){-1===Array.from(document.body.childNodes).indexOf(t._container)&&t._handleContainers();var e=document.createElement("div");e.className="smart-toast-item",t.value instanceof HTMLElement?(e.innerHTML=t._defaultItemTemplate(""),e.getElementsByClassName("smart-toast-item-content")[0].appendChild(t.value)):e.innerHTML=t._handleItemTemplate()||t._defaultItemTemplate(t.value),t.showCloseButton&&e.setAttribute("show-close-button","");for(var o=0;o<t.classList.length;o++)e.classList.add(t.classList[o]);t.type&&e.classList.add("smart-"+t.type),e._parent=t,t._container.appendChild(e),t._instances.push(e),t.$.fireEvent("open",{instance:e}),setTimeout(function(){e.setAttribute("opened","")},10),t.autoClose&&(e._autoCloseTimeout=setTimeout(function(){t._close(e)},t.autoCloseDelay))}}},{key:"_containerClickHandler",value:function(t){var e=this,o=t.target.closest(".smart-toast-item-close-button"),n=t.target.closest(".smart-toast-item");o||n?(n._parent.$.fireEvent("click",{instance:n}),o&&n._parent._close(n)):e.modal&&e.closeAll()}},{key:"_close",value:function(t){var e=this;if(e._instances.indexOf(t)>-1){var o=window.getComputedStyle(t,null).getPropertyValue("transition-duration"),n=o.indexOf("ms")>-1?parseInt(o):1e3*parseFloat(o);t.removeAttribute("opened"),e._instances.splice(e._instances.indexOf(t),1),setTimeout(function(){clearTimeout(t._autoCloseTimeout),e.$.fireEvent("close",{instance:t}),t.parentNode&&t.parentNode.removeChild(t)},n)}}},{key:"_defaultItemTemplate",value:function(t){return'<div class ="smart-toast-item-header">\n                    <span class ="smart-toast-item-close-button"></span>\n                </div>\n                <div class ="smart-toast-item-container">\n                    <span class ="smart-toast-item-icon"></span><span class ="smart-toast-item-content">'+t+"</span>\n                </div>"}},{key:"_handleContainers",value:function(){var t=this,e=t._validateDOMElement(t.appendTo);if(t.modal)t._container=t.$.toastContainerModal,document.body.appendChild(t._container);else if(e)t._container=t.$.toastContainerCustom,t._appendTo=e,t._appendTo.appendChild(t._container);else{var o=document.querySelectorAll("body > .smart-toast-container-"+t.position)[0];if(o)t._container=o;else{switch(t.position){case"top-left":t._container=t.$.toastContainerTopLeft;break;case"top-right":t._container=t.$.toastContainerTopRight;break;case"bottom-left":t._container=t.$.toastContainerBottomLeft;break;case"bottom-right":t._container=t.$.toastContainerBottomRight}document.body.appendChild(t._container),t.appendTo=null,t._appendTo=null}}}},{key:"_handleItemTemplate",value:function(){var t=this,e=t.itemTemplate;if(!("content"in document.createElement("template")))return void t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}));if(!e)return t._defaultItemTemplate(t.value);if(null===(e=document.getElementById(e))||!("content"in e))return void t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"template"}));var o=e.innerHTML,n=/{{\w+}}/g;return o.replace(n,t.value)}},{key:"_swipeHandler",value:function(t){var e=this,o=t.originalEvent.target.closest(".smart-toast-item");o&&e.$.fireEvent(t.type,{instance:o})}},{key:"_validateDOMElement",value:function(t){if(t)return"string"==typeof t?document.getElementById(t):t instanceof HTMLElement?t:void 0}}],[{key:"properties",get:function(){return{appendTo:{value:null,type:"any"},autoClose:{value:!1,type:"boolean"},autoCloseDelay:{value:3e3,type:"number"},autoOpen:{value:!1,type:"boolean"},itemTemplate:{value:null,type:"string?"},modal:{value:!1,type:"boolean"},position:{allowedValues:["top-left","top-right","bottom-left","bottom-right"],value:"top-right",type:"string"},showCloseButton:{value:!1,type:"boolean"},type:{allowedValues:["info","warning","success","error","mail","time",null],value:"info",type:"string?"},value:{value:"",type:"any"}}}},{key:"listeners",get:function(){return{"toastContainerTopLeft.click":"_containerClickHandler","toastContainerTopLeft.swipeleft":"_swipeHandler","toastContainerTopLeft.swiperight":"_swipeHandler","toastContainerTopLeft.swipetop":"_swipeHandler","toastContainerTopLeft.swipebottom":"_swipeHandler","toastContainerTopRight.click":"_containerClickHandler","toastContainerTopRight.swipeleft":"_swipeHandler","toastContainerTopRight.swiperight":"_swipeHandler","toastContainerTopRight.swipetop":"_swipeHandler","toastContainerTopRight.swipebottom":"_swipeHandler","toastContainerBottomLeft.click":"_containerClickHandler","toastContainerBottomLeft.swipeleft":"_swipeHandler","toastContainerBottomLeft.swiperight":"_swipeHandler","toastContainerBottomLeft.swipetop":"_swipeHandler","toastContainerBottomLeft.swipebottom":"_swipeHandler","toastContainerBottomRight.click":"_containerClickHandler","toastContainerBottomRight.swipeleft":"_swipeHandler","toastContainerBottomRight.swiperight":"_swipeHandler","toastContainerBottomRight.swipetop":"_swipeHandler","toastContainerBottomRight.swipebottom":"_swipeHandler","toastContainerCustom.click":"_containerClickHandler","toastContainerCustom.swipeleft":"_swipeHandler","toastContainerCustom.swiperight":"_swipeHandler","toastContainerCustom.swipetop":"_swipeHandler","toastContainerCustom.swipebottom":"_swipeHandler","toastContainerModal.click":"_containerClickHandler","toastContainerModal.swipeleft":"_swipeHandler","toastContainerModal.swiperight":"_swipeHandler","toastContainerModal.swipetop":"_swipeHandler","toastContainerModal.swipebottom":"_swipeHandler"}}}]),e}(Smart.ContentElement));
//# sourceMappingURL=smart.toast.js.map
