
/* Smart HTML Elements v1.0.0 (2018-April) 
Copyright (c) 2011-2018 jQWidgets. 
License: http://htmlelements.com/pricing/ */

 "use strict";Smart("smart-password-text-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <span id="label" inner-h-t-m-l="[[label]]" class ="smart-label"></span>\n                    <div id="innerContainer" class="smart-inner-container">\n                            <input type="password" id="input"\n                                autofocus="[[autoFocus]]"\n                                disabled="[[disabled]]"\n                                maxlength="[[maxLength]]"\n                                minlength="[[minLength]]"\n                                name="[[name]]"\n                                placeholder="[[placeholder]]"\n                                value="[[value]]">\n                            <span id="passwordIcon" title="Show Password" class ="smart-password-icon smart-hidden">&#xe80a; </span>\n                    </div>\n                    <span id="hint" class ="smart-hint"></span>\n                    <smart-tooltip id="tooltip"\n                        open-mode="manual"\n                        arrow="[[tooltipArrow]]"\n                        tooltip-template="[[tooltipTemplate]]"\n                        position="[[tooltipPosition]]"\n                        delay="[[tooltipDelay]]">\n                     </smart-tooltip>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,a,o){var s=this,n=void 0;switch(e){case"localization":s._updateLocalization(),n=s._evaluatePasswordStrength(),s.$.tooltip.value='<span class="password-strength-label">'+s._localization.passwordStrength+':</span><span class="password-strength-value">'+s._localization[n]+"</span>",s.$.passwordIcon.setAttribute("title",s._localization.showPassword),s._updatePasswordStrengthStyles(n);break;case"passwordStrength":n=s._evaluatePasswordStrength(),s.$.tooltip.value='<span class="password-strength-label">'+s._localization.passwordStrength+':</span><span class="password-strength-value">'+s._localization[n]+"</span>",s.$.passwordIcon.setAttribute("title",s._localization.showPassword),s._updatePasswordStrengthStyles(n);break;case"tooltipPosition":s.$.tooltip.position=s.tooltipPosition;break;case"tooltipTemplate":s.$.tooltip.tooltipTemplate=s.tooltipTemplate;break;case"value":n=s._evaluatePasswordStrength(),s.$.tooltip.value='<span class="password-strength-label">'+s._localization.passwordStrength+':</span><span class="password-strength-value">'+s._localization[n]+"</span>",s._updatePasswordStrengthStyles(n);break;case"disabled":s._setFocusable();break;case"readonly":break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,a,o)}}},{key:"_createElement",value:function(){var e=this;e._setFocusable(),e._localization={passwordStrength:"Password strength",short:"short",weak:"weak",far:"far",good:"good",strong:"strong",showPassword:"Show password"},e.localization&&e._updateLocalization(),e.$.tooltip.selector=e.$.innerContainer,e.$.passwordIcon.setAttribute("title",e._localization.showPassword),e.$.tooltip.value='<span class="password-strength-label">'+e._localization.passwordStrength+':</span><span class="password-strength-value">'+e._localization.short+"</span>",e._updatePasswordStrengthStyles(),e._initializationValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer()}},{key:"_focusHandler",value:function(){var e=this;e.disabled||(e.selectAllOnFocus&&e.$.input.select(),e.showPasswordIcon&&e.$passwordIcon.removeClass("smart-hidden"),e.setAttribute("focused",""),e._valueBeforeChange=e.value,e.showPasswordStrength&&(e._tooltipOpened||(e.$.tooltip.open(),e._tooltipOpened=!0)))}},{key:"_blurHandler",value:function(){var e=this;e.disabled||e._passwordIconPressed||(e._valueBeforeChange!==e.value&&(e.$.fireEvent("change",{newValue:e.value,oldValue:e._valueBeforeChange}),e._valueBeforeChange=""),e.showPasswordIcon&&e.$passwordIcon.addClass("smart-hidden"),e.removeAttribute("focused"),e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._tooltipOpened&&(e.$.tooltip.close(),e._tooltipOpened=!1))}},{key:"_showPassword",value:function(){var e=this;!e.disabled&&e.showPasswordIcon&&(e.$.input.type="text",e._passwordIconPressed=!0)}},{key:"_documentUpHandler",value:function(){var e=this;!e.disabled&&e.showPasswordIcon&&e._passwordIconPressed&&(e.$.input.type="password",e._passwordIconPressed=!1,e.$.input.focus())}},{key:"_textBoxChangeHandler",value:function(){var e=this;if(!e.disabled&&!e.readonly){e.value=e.$.input.value;var t=e._evaluatePasswordStrength();e.$.tooltip.value='<span class="password-strength-label">'+e._localization.passwordStrength+':</span><span class="password-strength-value">'+e._localization[t]+"</span>",e._updatePasswordStrengthStyles(t)}}},{key:"_updatePasswordStrengthStyles",value:function(e){var t=this,a=["short","weak","far","good","strong"];e=e||"short";for(var o=0;o<a.length;o++)t.$container.removeClass("smart-password-"+a[o]);t.disabled||t.$container.addClass("smart-password-"+e)}},{key:"_updateLocalization",value:function(){var e=this;for(var t in e._localization)e._localization[t]=e.localization[t]||e._localization[t]}},{key:"_evaluatePasswordStrength",value:function(){var e=this,t=e.$.input.value,a=t.length,o="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=";if(!e.disabled){if(e.passwordStrength)return e.passwordStrength(t,o);for(var s=0,n=0,l=0,r=0,i=0;i<a;i++){var p=t.charAt(i),d=t.charCodeAt(i);d>64&&d<91||d>96&&d<123||d>127&&d<155||d>159&&d<166?s+=1:!1!==isNaN(p)?-1===o.indexOf(p)||(l+=1):n+=1}return r=s+n+2*l+s*n/2+a,a<8?"short":r<20?"weak":r<30?"far":r<40?"good":"strong"}}},{key:"_keyUpHandler",value:function(){}},{key:"_selectStartHandler",value:function(){}},{key:"_mouseWheelHandler",value:function(){}},{key:"_setDropDownSize",value:function(){}}],[{key:"properties",get:function(){return{localization:{value:null,type:"object",reflectToAttribute:!1},passwordStrength:{value:null,type:"function?",reflectToAttribute:!1},showPasswordIcon:{value:!1,type:"boolean"},showPasswordStrength:{value:!1,type:"boolean"},tooltipArrow:{value:!1,type:"boolean"},tooltipDelay:{value:0,type:"number"},tooltipPosition:{allowedValues:["bottom","top","left","right","absolute"],value:"top",type:"string"},tooltipTemplate:{value:null,type:"string?"}}}},{key:"requires",get:function(){return{"Smart.Tooltip":"smart.tooltip.js"}}},{key:"listeners",get:function(){return{"document.up":"_documentUpHandler",blur:"_blurHandler",focus:"_focusHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","passwordIcon.down":"_showPassword","input.change":"_textBoxChangeHandler","input.paste":"_textBoxChangeHandler","input.keyup":"_textBoxChangeHandler","input.blur":"_blurHandler","input.focus":"_focusHandler"}}}]),t}(Smart.TextBox));
//# sourceMappingURL=smart.passwordtextbox.js.map
